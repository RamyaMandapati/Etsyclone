{"ast":null,"code":"var _jsxFileName = \"/Users/ramya/Documents/lab1/etsy/etsyfrontend/src/components/EditShopImage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport EditProduct from \"./EditProduct\";\nimport \"../App.css\";\nimport Popup from \"./Popup\";\nimport Axios from \"axios\";\nimport { Col, Card, Row } from \"antd\";\nimport { Link } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\nimport userSlice, { login, selectUser, updateshopImage } from \"../features/userSlice\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useDispatch } from \"react-redux\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction EditShopImage() {\n  _s();\n\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const user = useSelector(selectUser);\n  const [shopProfileImage, setShopProfileImage] = useState(\"\");\n  const user_id = user.id;\n\n  const updateImage = e => {\n    e.preventDefault();\n    console.log(shopProfileImage);\n    const formData = new FormData();\n    formData.append(\"itemImage\", shopProfileImage);\n    console.log(\"image shop\" + shopProfileImage);\n    Axios.post(`http://localhost:5000/updateshopImage/${user_id}`, formData, {\n      headers: {\n        \"content-Type\": \"multipart/form-data\"\n      }\n    }).then(response => {\n      console.log(response);\n\n      if (response.data.success) {\n        console.log(\"Image update successfully\");\n        dispatch(updateshopImage(shop));\n        navigate(\"/ShopHome\");\n      } else {\n        console.log(\"Image upload failed\");\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-modal\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        style: {\n          margin: \"10px\"\n        },\n        children: \"Update shop Image\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        style: {\n          border: \"none\"\n        },\n        type: \"file\",\n        name: \"itemImage\",\n        className: \"item_image\",\n        style: {\n          marginLeft: \"10px\",\n          marginTop: \"20px\"\n        },\n        id: \"item_image\",\n        onChange: e => {\n          setShopProfileImage(e.target.files[0]);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        onClick: updateImage,\n        style: {\n          width: \"150px\",\n          margin: \"20px\"\n        },\n        children: \"update\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n}\n\n_s(EditShopImage, \"+rYVR3o4hubEreCfUChi08zqD5E=\", false, function () {\n  return [useNavigate, useDispatch, useSelector];\n});\n\n_c = EditShopImage;\nexport default EditShopImage;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditShopImage\");","map":{"version":3,"sources":["/Users/ramya/Documents/lab1/etsy/etsyfrontend/src/components/EditShopImage.js"],"names":["React","useState","useEffect","EditProduct","Popup","Axios","Col","Card","Row","Link","useSelector","userSlice","login","selectUser","updateshopImage","useNavigate","useDispatch","EditShopImage","navigate","dispatch","user","shopProfileImage","setShopProfileImage","user_id","id","updateImage","e","preventDefault","console","log","formData","FormData","append","post","headers","then","response","data","success","shop","catch","err","margin","border","marginLeft","marginTop","target","files","width"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\n\nimport EditProduct from \"./EditProduct\"\nimport \"../App.css\"\nimport Popup from \"./Popup\";\nimport Axios from \"axios\";\nimport { Col, Card, Row } from \"antd\";\nimport { Link } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\nimport userSlice, { login, selectUser,updateshopImage } from \"../features/userSlice\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useDispatch } from \"react-redux\";\n\nfunction EditShopImage() {\n    const navigate=useNavigate();\n    const dispatch=useDispatch();\n    const user = useSelector(selectUser);\n    const [shopProfileImage,setShopProfileImage]=useState(\"\")\n  const user_id=user.id;\n  const updateImage=(e)=>{\n    e.preventDefault();\n  \n    console.log(shopProfileImage);\n    const formData = new FormData();\n    formData.append(\"itemImage\", shopProfileImage);\n   console.log(\"image shop\"+shopProfileImage);\n    Axios.post(`http://localhost:5000/updateshopImage/${user_id}`,formData,{\n        headers: { \"content-Type\": \"multipart/form-data\" },\n      })\n    .then(response=>{\n        console.log(response);\n        if(response.data.success)\n        {\n            console.log(\"Image update successfully\");\n            dispatch(updateshopImage(shop)\n              \n            );\n            navigate(\"/ShopHome\")\n            \n        }\n        else{\n            console.log(\"Image upload failed\");\n        }\n    }).catch(err => { console.log(err);})\n}\n  return (\n    <div className=\"bg-modal\">\n      <div className=\"modal-content\">\n      <h4 style={{margin:\"10px\"}}>Update shop Image</h4>\n         <input\n              style={{ border: \"none\" }}\n              type=\"file\"\n              name=\"itemImage\"\n              className=\"item_image\"\n              style={{marginLeft:\"10px\",marginTop:\"20px\"}}\n              id=\"item_image\"\n              onChange={(e)=>{setShopProfileImage(e.target.files[0])}}\n              \n            />\n        \n            <button type=\"submit\" onClick={updateImage} style={{width:\"150px\", margin:\"20px\"}}>update</button>\n        </div>\n    </div>\n  )\n}\n\nexport default EditShopImage"]},"metadata":{},"sourceType":"module"}
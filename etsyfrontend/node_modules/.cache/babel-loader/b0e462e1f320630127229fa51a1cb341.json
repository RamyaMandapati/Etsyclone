{"ast":null,"code":"var _jsxFileName = \"/Users/ramya/Documents/lab1/etsy/etsyfrontend/src/components/SearchResults.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { getProducts, removeProductsState, updateProducts } from \"../features/productSlice\";\nimport { selectUser } from \"../features/userSlice\";\nimport { Link, Navigate } from \"react-router-dom\";\nimport Navigationbar from \"./Navigationbar\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useState } from 'react';\nimport { borderRight } from '@mui/system';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction SearchResults() {\n  _s();\n\n  const user = useSelector(selectUser);\n  const product = useSelector(getProducts);\n  const dispatch = useDispatch();\n  const [sortBy, setSortBy] = useState();\n  const [minPrice, setMinPrice] = useState(0);\n  const [maxPrice, setMaxPrice] = useState(100);\n  const [filterByValue, setFilterByValue] = useState(false);\n  const [checked, setChecked] = useState(false);\n  let filteredProducts = null;\n\n  const filterByPrice = () => {\n    if (minPrice !== 0 && maxPrice !== 100) {\n      setFilterByValue(true);\n      filteredProducts = product.filter(prod => {\n        return Number(prod.price) > minPrice && Number(prod.price) < maxPrice;\n      }); // product = filteredProducts();\n\n      dispatch(updateProducts(filteredProducts));\n      console.log(filteredProducts);\n    }\n  };\n\n  let searchPage = null;\n\n  if (sortBy === \"itemPrice\") {\n    product.sort(function (a, b) {\n      return Number(a.price) - Number(b.price);\n    });\n  } else if (sortBy === \"itemCount\") {\n    product.sort(function (a, b) {\n      return Number(a.count) - Number(b.count);\n    });\n  } // console.log(product);\n\n\n  if (checked == false) {\n    if (user && product !== null) {\n      searchPage = product.map(pro => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-4 mb-4\",\n          style: {\n            marginTop: \"20px\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: require(\"../uploads/\" + pro.image),\n              className: \"card-img-top\",\n              alt: \"...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body\",\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"card-title\",\n                children: pro.productname\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"Price: $\", pro.price]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 9\n        }, this);\n      });\n    } else {\n      dispatch(removeProductsState());\n      searchPage = /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \" No Items\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 7\n      }, this);\n    }\n  } else {\n    if (user && product !== null) {\n      searchPage = product.map(pro => {\n        if (pro.count > 0) {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-4 mb-4\",\n            style: {\n              marginTop: \"20px\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: require(\"../uploads/\" + pro.image),\n                className: \"card-img-top\",\n                alt: \"...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-body\",\n                children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                  className: \"card-title\",\n                  children: pro.productname\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 99,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"Price: $\", pro.price]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 100,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this);\n        }\n      });\n    } else {\n      dispatch(removeProductsState());\n      searchPage = /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \" No Items\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 11\n      }, this);\n    }\n  } //  let redirectVar = null;\n  //   if (!cookie.load(\"user\")) {\n  //     redirectVar = <Navigate to=\"/Home\" />;\n  //   }\n\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Navigationbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: \"20%\",\n        position: \"relative\",\n        top: \"0\",\n        left: \"78%\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body\",\n        style: {\n          marginTop: \"20px\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          id: \"price-range-form\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"min-price\",\n            className: \"form-label\",\n            children: \"Min price:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            id: \"min-price-txt\",\n            children: [\"$\", minPrice]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"range\",\n            className: \"form-range\",\n            min: \"0\",\n            max: \"99\",\n            id: \"min-price\",\n            step: \"1\",\n            defaultValue: \"0\",\n            onChange: event => {\n              setMinPrice(event.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"max-price\",\n            className: \"form-label\",\n            children: \"Max price:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            id: \"max-price-txt\",\n            children: [\"$\", maxPrice]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"range\",\n            className: \"form-range\",\n            min: \"1\",\n            max: \"100\",\n            id: \"max-price\",\n            step: \"1\",\n            defaultValue: \"100\",\n            onChange: event => {\n              setMaxPrice(event.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: filterByPrice,\n            children: \"Filter\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"checkbox\",\n      id: \"count\",\n      name: \"count\",\n      value: \"count\",\n      style: {\n        marginLeft: \"20px\",\n        marginRight: \"10px\"\n      },\n      onChange: e => setChecked(e.target.checked)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      htmlfor: \"count\",\n      children: \"Out of stock\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginLeft: \"80%\"\n      },\n      children: [\"Sort by: \\xA0\", /*#__PURE__*/_jsxDEV(\"select\", {\n        onChange: event => {\n          setSortBy(event.target.value);\n        },\n        style: {\n          width: \"%\",\n          height: \"40px\",\n          border: \"1px solid black\",\n          borderRadius: \"4px\",\n          border: \"none\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"itemPrice\",\n          children: \"Relavency\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"itemPrice\",\n          children: \"Price\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"itemCount\",\n          children: \"Quantity\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"salesCount\",\n          children: \"Sales Count\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container-fluid mx-1\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row mt-5 mx-1\",\n        style: {\n          marginTop: \"20px\",\n          backgroundColor: \"rgb(243, 234, 223)\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-15\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: searchPage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(SearchResults, \"TSY0vS4rFb+rqcfX8I04hEha+1A=\", false, function () {\n  return [useSelector, useSelector, useDispatch];\n});\n\n_c = SearchResults;\nexport default SearchResults;\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchResults\");","map":{"version":3,"sources":["/Users/ramya/Documents/lab1/etsy/etsyfrontend/src/components/SearchResults.js"],"names":["React","getProducts","removeProductsState","updateProducts","selectUser","Link","Navigate","Navigationbar","useSelector","useDispatch","useState","borderRight","SearchResults","user","product","dispatch","sortBy","setSortBy","minPrice","setMinPrice","maxPrice","setMaxPrice","filterByValue","setFilterByValue","checked","setChecked","filteredProducts","filterByPrice","filter","prod","Number","price","console","log","searchPage","sort","a","b","count","map","pro","marginTop","require","image","productname","width","position","top","left","event","target","value","marginLeft","marginRight","e","height","border","borderRadius","backgroundColor"],"mappings":"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","sourcesContent":["import React from 'react'\nimport {\n    getProducts,\n    removeProductsState,\n    updateProducts,\n  } from \"../features/productSlice\";\n  import { selectUser } from \"../features/userSlice\";\n  \n  import { Link, Navigate } from \"react-router-dom\";\n  import Navigationbar from \"./Navigationbar\";\n  import { useSelector, useDispatch } from \"react-redux\";\n  import { useState } from 'react';\nimport { borderRight } from '@mui/system';\n\nfunction SearchResults() {\n  \n    const user = useSelector(selectUser);\n\n    const product = useSelector(getProducts);\n  const dispatch = useDispatch();\n  const [sortBy, setSortBy] = useState();\n  const [minPrice, setMinPrice] = useState(0);\n  const [maxPrice, setMaxPrice] = useState(100);\n  const [filterByValue, setFilterByValue] = useState(false);\n  const [checked, setChecked] = useState(false);\n\n  let filteredProducts = null;\n  const filterByPrice = () => {\n    if (minPrice !== 0 && maxPrice !== 100) {\n      setFilterByValue(true);\n      filteredProducts = product.filter((prod) => {\n        return Number(prod.price) > minPrice && Number(prod.price) < maxPrice;\n      });\n      // product = filteredProducts();\n      dispatch(updateProducts(filteredProducts));\n      console.log(filteredProducts);\n    }\n  };\n\n  let searchPage = null;\n  if (sortBy === \"itemPrice\") {\n    product.sort(function(a, b) {\n      return Number(a.price) - Number(b.price);\n    });\n  } else if (sortBy === \"itemCount\") {\n    product.sort(function(a, b) {\n      return Number(a.count) - Number(b.count);\n    });\n  }\n\n  // console.log(product);\nif(checked==false){\n  if (user && product !== null ) {\n\n    \n    searchPage = product.map((pro) => {\n        \n      return (\n        <div className=\"col-md-4 mb-4\" style={{marginTop:\"20px\"}}>\n          <div className=\"card\">\n            <img\n              src={require(\"../uploads/\" + pro.image)}\n              className=\"card-img-top\"\n              alt=\"...\"\n            />\n            <div className=\"card-body\">\n              <h5 className=\"card-title\">{pro.productname}</h5>\n              <p>Price: ${pro.price}</p>\n              {/* <p>{pro.itemCount}</p> */}\n              \n            </div>\n          </div>\n        </div>\n      );\n    });\n  } else {\n    dispatch(removeProductsState());\n    searchPage = (\n      <div>\n        <h4> No Items</h4>\n      </div>\n    );\n  }\n}else{\n    if (user && product !== null ) {\n\n    \n        searchPage = product.map((pro) => {\n        if(pro.count>0){ \n          return (\n            <div className=\"col-md-4 mb-4\" style={{marginTop:\"20px\"}}>\n              <div className=\"card\" >\n                <img\n                  src={require(\"../uploads/\" + pro.image)}\n                  className=\"card-img-top\"\n                  alt=\"...\"\n                />\n                <div className=\"card-body\">\n                  <h5 className=\"card-title\">{pro.productname}</h5>\n                  <p>Price: ${pro.price}</p>\n                  {/* <p>{pro.itemCount}</p> */}\n                  \n                </div>\n              </div>\n            </div>\n          );}\n        });\n      } else {\n        dispatch(removeProductsState());\n        searchPage = (\n          <div>\n            <h4> No Items</h4>\n          </div>\n        );\n      }\n\n}\n\n//  let redirectVar = null;\n//   if (!cookie.load(\"user\")) {\n//     redirectVar = <Navigate to=\"/Home\" />;\n//   }\n  return (\n    <>\n      {/* {redirectVar} */}\n      <Navigationbar/>\n      \n      <hr></hr>\n\n      <div\n        style={{\n          width: \"20%\",\n          position: \"relative\",\n          top: \"0\",\n          left: \"78%\",\n        }}\n      >\n        <div className=\"card-body\" style={{marginTop:\"20px\"}}>\n          <form id=\"price-range-form\">\n            <label htmlFor=\"min-price\" className=\"form-label\">\n              Min price:\n            </label>\n            <span id=\"min-price-txt\">${minPrice}</span>\n            <input\n              type=\"range\"\n              className=\"form-range\"\n              min=\"0\"\n              max=\"99\"\n              id=\"min-price\"\n              step=\"1\"\n              defaultValue=\"0\"\n              onChange={(event) => {\n                setMinPrice(event.target.value);\n              }}\n            />\n            <label htmlFor=\"max-price\" className=\"form-label\">\n              Max price:\n            </label>\n            <span id=\"max-price-txt\">${maxPrice}</span>\n            <input\n              type=\"range\"\n              className=\"form-range\"\n              min=\"1\"\n              max=\"100\"\n              id=\"max-price\"\n              step=\"1\"\n              defaultValue=\"100\"\n              onChange={(event) => {\n                setMaxPrice(event.target.value);\n              }}\n            />\n            <button onClick={filterByPrice}>Filter</button>\n          </form>\n        </div>\n      </div>\n\n      <input\n        type=\"checkbox\"\n        \n        id=\"count\"\n        name=\"count\"\n        value=\"count\"\n        style={{marginLeft:\"20px\",marginRight:\"10px\"}}\n        onChange={(e)=>setChecked(e.target.checked)}\n      />\n      <label htmlfor=\"count\">Out of stock</label>\n      <br></br>\n\n      <div style={{ marginLeft: \"80%\" }}>\n        Sort by: &nbsp;\n        <select\n          onChange={(event) => {\n            setSortBy(event.target.value);\n          }}\n          style={{\n            width: \"%\",\n            height: \"40px\",\n            border: \"1px solid black\",\n            borderRadius: \"4px\",\n            border: \"none\",\n          }}\n        >\n          <option value=\"itemPrice\">Relavency</option>\n          <option value=\"itemPrice\">Price</option>\n          <option value=\"itemCount\">Quantity</option>\n          <option value=\"salesCount\">Sales Count</option>\n        </select>\n      </div>\n\n      <div className=\"container-fluid mx-1\">\n        <div className=\"row mt-5 mx-1\" style={{marginTop:\"20px\",backgroundColor:\"rgb(243, 234, 223)\"}}>\n          <div className=\"col-md-15\">\n            <div className=\"row\">{searchPage}</div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n\n}\n\nexport default SearchResults"]},"metadata":{},"sourceType":"module"}